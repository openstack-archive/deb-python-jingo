Description: [Django 1.10] Read debug from template backend
Author: Thomas Goirand <zigo@debian.org>
Forwarded: no
Last-Update: 2016-07-25

--- python-jingo-0.9.orig/jingo/__init__.py
+++ python-jingo-0.9/jingo/__init__.py
@@ -5,6 +5,7 @@ from __future__ import unicode_literals
 import functools
 import logging
 import re
+from copy import deepcopy
 
 from django.apps import apps
 from django.conf import settings
@@ -96,7 +97,8 @@ class Template(jinja2.Template):
             context = FakeRequestContext()
 
         # Used by debug_toolbar.
-        if settings.TEMPLATE_DEBUG:
+        TEMPLATES_copy = deepcopy(settings.TEMPLATES)
+        if TEMPLATES_copy[0]['OPTIONS']['debug']:
             from django.test import signals
             self.origin = Origin(self.filename)
             signals.template_rendered.send(sender=self, template=self,
